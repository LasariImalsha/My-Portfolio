<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manage Item</title>
    <meta content="width=device-width initial-scale=1" name="viewport">
    <link href="../assets/css/styles/Stylesheet.css" rel="stylesheet">
    <link href="../assets/css/bootstrap.min.css" rel="stylesheet">

    <!--    <style>-->
    <!--        body > main > div:nth-child(1) {-->
    <!--            position: fixed;-->
    <!--            width: 100%;-->
    <!--            height: 100%;-->
    <!--            top: 0;-->
    <!--            left: 0;-->
    <!--            text-align: center;-->
    <!--            opacity: 0.9;-->
    <!--            background-color: #000000;-->
    <!--            z-index: 99;-->
    <!--        }-->

    <!--        body > main > div:nth-child(1)>div {-->
    <!--            width: 500px;-->
    <!--            height: 200px;-->
    <!--            position: absolute;-->
    <!--            left: 0;-->
    <!--            right: 0;-->
    <!--            top: 0;-->
    <!--            bottom: 0;-->
    <!--            margin: auto;-->
    <!--            background: url("../assets/images/Loader.gif");-->
    <!--            background-size: cover;-->
    <!--            background-position: center;-->
    <!--            z-index: 100;-->
    <!--        }-->

    <!--    </style>-->

</head>
<body>
<main>
    <!-- start page loader-->
    <div id="loader">
        <div>

        </div>
    </div>
    <!-- End page loader-->
    <!--  start header -->
    <header>
        <!--start nav bar with image and name-->
        <nav class="navbar navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="#">
                    <img alt="Logo" class="d-inline-block align-text-top" height="30" src="../assets/images/store.png"
                         width="30">
                    POS System
                </a>

                <!--start nav bar with navigations links(home,customer,item...)-->
                <nav class="navbar navbar-expand-lg bg-light">
                    <div class="container-fluid">
                        <a class="navbar-brand" href="#"></a>
                        <button aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"
                                class="navbar-toggler" data-bs-target="#navbarNavAltMarkup"
                                data-bs-toggle="collapse" type="button">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                            <div class="navbar-nav">
                                <a aria-current="page" class="nav-link active" href="../index.html">Home</a>
                                <a class="nav-link" href="customer.html">Customer</a>
                                <a class="nav-link" href="#">Item</a>
                                <a class="nav-link" href="order.html">Order</a>
                            </div>
                        </div>

                        <!-- start logout icon -->
                        <nav class="navbar bg-light">
                            <div class="container">
                                <a class="navbar-brand" href="../Pages/SignIn.html">
                                    <img alt="Bootstrap" height="24" src="../assets/images/log_out.svg" width="30">
                                </a>
                            </div>
                        </nav>
                        <!-- end logout icon -->

                    </div>
                </nav>
                <!--end nav bar with navigations links(home,item,item...)-->

            </div>
        </nav>
        <!--end nav bar with image and name-->

    </header>
    <!--  end header -->


    <br>
    <br>

    <!-- Start Item Here-->
    <div>
        <h1 class="container-fluid"><span class="headline_part1">Manage</span> <span
                class="headline_part2">Item</span></h1>
    </div>

    <section class="container-fluid mt-3" id="customerContent">
        <!--Start Item data form -->
        <section class="container-fluid mt-5">

            <!-- First Row-->
            <div class="row">
                <div class="mb-3 col">
                    <label class="form-label" for="txtItemCode">Item Code</label>
                    <input class="form-control customer_form" id="txtItemCode" placeholder="I00-001" type="text">
                </div>

                <div class="mb-3 col">
                    <label class="form-label" for="txtItemName">Item Name</label>
                    <input class="form-control customer_form" id="txtItemName" placeholder="Noodle"
                           type="text">
                </div>
            </div>

            <!-- Second Row-->
            <div class="row">

                <div class="mb-3 col">
                    <label class="form-label" for="txtItemQTYOnHand">QTY On Hand</label>
                    <input class="form-control customer_form" id="txtItemQTYOnHand"
                           placeholder="3" type="number">
                </div>

                <div class="mb-3 col">
                    <label class="form-label" for="txtItemPrice">Price</label>
                    <input class="form-control customer_form" id="txtItemPrice" placeholder="200" type="number">
                </div>
            </div>
        </section>
        <!--End Item data form -->


        <!-- Buttons Section -->
        <section class="container-fluid mt-1 button mb-5">
            <button class="btn btn-outline-primary" id="btnSaveItem" type="button">Save Item</button>
            <button class="btn btn-outline-info" id="btnClearItem" type="button">Clear</button>
            <button class="btn btn-outline-warning" id="btnItemUpdate" type="button">Update</button>
            <button class="btn btn-outline-danger" id="btnItemDelete" type="button">Delete</button>
        </section>

        <!-- Search Bar -->
        <section class="row mb-3">
            <form class="d-flex col-5" role="search">
                <input aria-label="Search" class="form-control me-2 " id="myInput" placeholder="ItemCode/Name"
                       type="search">
                <!--                <button class="btn btn-outline-success" type="submit">Search</button>-->
            </form>

        </section>


        <!--  Customer Table -->
        <section class="row ">

            <div class="container-fluid">
                <table class="table table-bordered table-hover">
                    <thead class="bg-info text-white">
                    <tr class="table-success">
                        <td>Item Code</td>
                        <td>Name</td>
                        <td>Qty On Hand</td>
                        <td>Price</td>
                    </tr>
                    </thead>

                    <tbody id="tblItem">

                    </tbody>
                </table>
            </div>
        </section>

    </section>
    <!-- End Item Here-->

</main>

<!--Import js for bootstrap-->
<script src="../assets/js/bootstrap.min.js"></script>
<script src="../assets/js/jquery-3.6.1.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
    $('#txtItemCode').focus();

    let items = [];

    $('#btnSaveItem').click(function () {
        let itemCode = $('#txtItemCode').val();
        let itemName = $('#txtItemName').val();
        let itemQtyOnHand = $('#txtItemQTYOnHand').val();
        let itemPrice = $('#txtItemPrice').val();


        var itemObject = {
            code: itemCode,
            name: itemName,
            qtyonhand: itemQtyOnHand,
            price: itemPrice

        }

        //add the item object to the array
        items.push(itemObject);


        loadAllItems();

        bindRowClickEvents();

        textFieldDataCLear();
    });

    //function for add data to table
    function loadAllItems() {
        $('#tblItem').empty();

        for (item of items) {
            var row = `<tr><td>${item.code}</td><td>${item.name}</td><td>${item.qtyonhand}</td><td>${item.price}</td></tr>`

            //then add it to the table body of item table
            $('#tblItem').append(row);
        }
    }

    //when click table row data auto fill into text fields
    function bindRowClickEvents() {
        $('#tblItem>tr').click(function () {
            let code = $(this).children(':eq(0)').text();
            let name = $(this).children(':eq(1)').text();
            let qtyonhand = $(this).children(':eq(2)').text();
            let price = $(this).children(':eq(3)').text();

            $('#txtItemCode').val(code);
            $('#txtItemName').val(name);
            $('#txtItemQTYOnHand').val(qtyonhand);
            $('#txtItemPrice').val(price);

        });
    }

    //btn clear data
    $('#btnClearItem').click(function (){
        textFieldDataCLear();
    });

    //clear data function
    function textFieldDataCLear(){
        $('#txtItemCode').val('');
        $('#txtItemName').val('');
        $('#txtItemQTYOnHand').val('');
        $('#txtItemPrice').val('');

        $('#txtItemCode').focus();
    }

    //added Item Search
    $('#myInput').on('keyup', function () {
        var value = $(this).val().toLowerCase();
        $('#tblItem>tr').filter(function () {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
    });
</script>

</body>
</html>